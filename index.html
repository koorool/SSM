<!DOCTYPE HTML PUBLIC>
<!--[if IE 7]><html class="ie7 oldie" lang="ru"><![endif]-->
<!--[if IE 8]><html class="ie8 oldie" lang="ru"><![endif]-->
<!--[if gt IE 8]><!--><html lang="RU"><!--<![endif]-->

<html>
	<Head>
		<meta http-equiv="Content-Language" content="ru">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<Title>AviaMap</Title>
		
		<meta name="viewport" > <!--content="width=device-width"-->
		
		<link href="style.css" media="all" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script type="text/javascript" src="Map.js"></script>
		<!--script type="text/javascript" src="Login.js"></script-->
		<script type="text/javascript" src="1.7.2.jquery.min.js"></script>
    
		<meta name='description' content='A modern, open coworking environment for free-range humans. From collaborative space to private conference rooms, Grind has everything you need to work liquid.' />
		<meta name='keywords' content='New York, co-work, New York city, coworking chicago, grind, grindspaces, team, collaboration, freelancer, workspace, shared space chicago, free-radical, office space, chicago office space, freelancer space, collaboration space nyc, grind, grind space, chicago workspace, shared office, office space nyc, boutique office space, sustainable office space, intelligentsia coffee' />
		<link rel="canonical" href="www.simscenerymap.com"/>
			
	</Head>	
	
<Body onload="load()">
		<div id="wrap">
			<div id="Menu">
				<img src="./LOGO.png" id = "Logo"></img>
				<!--a href="#" id = "Login" onclick = "ShowLogin()"> Login </a-->
			</div>
			<div id="map"></div>
			<div id="panel">
		    <div id="panel_content">
		    	<table height="100%">
		    	<td id="close" onclick="jQuery.Panel()"> </td>
		    	<td valign="top"> 		    	
		    	<!--div onclick="jQuery.Panel()">====></div-->
		    	<div id="marker_name">	</div>
		    	<div id="lat">lat:	</div>
		    	<div id="lng">lng:	</div>
		    	<div id="simulator">simulator:	</div>
		    	<div id="type">type:	</div>
		    	<div id="description">description:	</div>
		    	</td>	
				</table>
		    </div>
		    <!--div id="panel-sticker">
			<span onclick="jQuery.Panel()"><==</span>
			<div class="close">Ã—</div>    
		    </div-->
			</div>
		</div>

<script type="text/javascript">
(function($) {
    $(document).ready(function() {
        jQuery.infopanel = $('#panel');	
	var $map = $('#map');
        //if (jQuery.infopanel.length) {
            var $sticker = jQuery.infopanel.children('#panel-sticker');
	   jQuery.panelContent = jQuery.infopanel.children('#panel_content');

            jQuery.Panel = function(names) {
		if (jQuery.infopanel.hasClass('visible')) {
                        jQuery.infopanel.animate({
                    right: '-=200',
                }, 200, function() {
                    $(this).removeClass('visible');
                });
		$map.width('+=200');
                    }
                    else {
			 //document.getElementById("panel-content").firstChild.nodeValue+=names;			 
			 window.loadDataInfoPanel(names);
                         jQuery.infopanel.animate({
                    right: '+=200',
                }, 200, function() {
                    $(this).addClass('visible');
                });
		setTimeout(function() { $map.width('-=200') }, 180)
                    }
               
            };           
            /*$sticker
                .children('span').click(function() {
                    if ($panel.hasClass('visible')) {
                        hidePanel();
                    }
                    else {
                        showPanel();
                    }
                }).andSelf()
                /*.children('.close').click(function() {
                    $panel.remove();
                });*/	             
        //}
    });
})(jQuery);
</script>

<script type="text/javascript">
	function loadDataInfoPanel(name)
		{
			clearPanel();
			downloadInfoWindow("/PHP/phpsqlajax_genxml_panel.php?name=" + name, function(data) {
			var xml = data.responseXML;
			var markers = xml.documentElement.getElementsByTagName("marker");
			document.getElementById("marker_name").firstChild.nodeValue=name;
			//var description = markers[0].getAttribute("description");
			document.getElementById("description").firstChild.nodeValue+=markers[0].getAttribute("description");
			document.getElementById("simulator").firstChild.nodeValue+=markers[0].getAttribute("sim");
			//var sim = markers[0].getAttribute("sim");
			document.getElementById("lng").firstChild.nodeValue+= markers[0].getAttribute("lng");
			document.getElementById("lat").firstChild.nodeValue+= markers[0].getAttribute("lat");
			document.getElementById("type").firstChild.nodeValue+= markers[0].getAttribute("type");
			//document.getElementById("panel-content").firstChild.nodeValue+='<br/>' + sim + '<br/>' +  type + '<br/>' + description; //insert info into panel
			});
		}
	
function clearPanel()
	{
		jQuery.panelContent.html('<div id="panel_content">' 
		    	+'<table height="100%">' 
		    	+'<td id="close" onclick="jQuery.Panel()"> </td>'
		    	+ '<td valign="top">'
		    	+'<div id="marker_name"> </div>'
		    	+'<div id="lat">lat:	</div>'
		    	+'<div id="lng">lng:	</div>'
		    	+'<div id="simulator">simulator:	</div>'
		    	+'<div id="type">type:	</div>'
		    	+'<div id="description">description:	</div>'
		    	+"</td>"
				+"</table>"
		    	+'</div>');
	}
function downloadInfoWindow(url, callback) {
      var request = window.ActiveXObject ?
          new ActiveXObject('Microsoft.XMLHTTP') :
          new XMLHttpRequest;

      request.onreadystatechange = function() {
        if (request.readyState == 4) {
          request.onreadystatechange = doNothing;
          callback(request, request.status);
        }
      };

      request.open('GET', url, true);
      request.send(null);
    }
</script>
	</Body>
</HTML>
